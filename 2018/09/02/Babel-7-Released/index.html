<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="ç¶²é æŠ€è¡“, å‰ç«¯, å¾Œç«¯, ç”Ÿæ´», é–±è®€, ç­†è¨˜"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>Babel 7 Released! - ç”Ÿæ´»èˆ‡æŠ€è¡“</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com/cian6390"><span>Github</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="https://images2.imgbox.com/e1/ff/W42RCDl2_o.jpg"><div class="post-title"><h1 class="title">Babel 7 Released!</h1><ul class="meta"><li><i class="icon icon-author"></i>Cian</li><li><i class="icon icon-clock"></i>26 Minutes</li><li><i class="icon icon-calendar"></i>September 2, 2018</li></ul></div></div><div class="article-content" style="max-width:800px"><h1 id="Babel"><a href="#Babel" class="headerlink" title="Babel"></a>Babel</h1><p>Babel æ˜¯ JavaScriptçš„ç·¨è­¯å™¨ï¼Œè®“é–‹ç™¼äººå“¡å¯ä»¥é¦¬ä¸Šé–‹å§‹ä½¿ç”¨<br>é‚£äº›å°šæœªè¢«ç€è¦½å™¨å¯¦ç¾çš„APIï¼Œä¾‹å¦‚ä»¥å‰ES6å‰›æ›´æ–°æ™‚ï¼Œå¾ˆå¤šç€è¦½å™¨ä¸¦ä¸æ”¯æ´çš„<br><strong>Promise</strong>ã€<strong>Class</strong> etc â€¦  </p>
<p><strong>Babel7</strong>çµ‚æ–¼åœ¨ <strong>Babel6</strong>ç¶­è­·äº†å°‡è¿‘å¿«3å¹´çš„æ™‚é–“ç™¼ä½ˆ<br>é€™ç¯‡æ–‡ç« å°±ä¾†çœ‹çœ‹ï¼Œæ–°çš„ <strong>Babel7</strong>æ”¹è®Šäº†äº›ä»€éº¼ã€‚  </p>
<hr>
<h2 id="ç ´å£æ€§è®ŠåŒ–"><a href="#ç ´å£æ€§è®ŠåŒ–" class="headerlink" title="ç ´å£æ€§è®ŠåŒ–"></a>ç ´å£æ€§è®ŠåŒ–</h2><ul>
<li>ä¸å†æ”¯æ´ Node 5(å«ä»¥ä¸‹) ç‰ˆæœ¬</li>
<li>NPMå¥—ä»¶ä½¿ç”¨ <code>@babel</code> scopedï¼Œå¦‚ï¼š<code>babel/core</code>æ”¹è®Šç‚º <code>@babel/core</code></li>
<li>åˆªé™¤ä»¥åŠåœæ­¢æ›´æ–°èˆŠç‰ˆæœ¬presetsï¼Œå¦‚ï¼š<code>preset-es2015</code>ï¼Œå®Œå…¨æ”¹ç”¨ <code>@babel/preset-env</code></li>
<li><strong>Stage</strong> presetsåŒæ¨£ç§»é™¤ï¼Œå¦‚ï¼š<code>@babel/preset-stage-0</code>ï¼Œè€Œä»–å€‘ä¹Ÿåœ¨<code>@babe/polyfill</code>ä¸­è¢«ç§»é™¤</li>
<li>å¥—ä»¶åç¨±ä¿®æ”¹ï¼Œä»¥å‰çš„ <code>-transform</code>æ”¹ç‚º <code>-proposal</code>ï¼Œå¦‚ï¼š<code>@babel/plugin-transform-class-properties</code>è®Šæˆ <code>@babel/plugin-proposal-class-properties</code></li>
<li>æ–°å¢ <code>peerDependency</code>æ–¼ <code>@babel/core</code>ï¼Œå¦‚ï¼š<code>babel-loader</code>ã€<code>@babel/cli</code><a href="http://babeljs.io/blog/2017/12/27/nearing-the-7.0-release#peer-dependencies-integrations" target="_blank" rel="noopener">ç´°ç¯€</a></li>
</ul>
<hr>
<h2 id="å‡ç´š"><a href="#å‡ç´š" class="headerlink" title="å‡ç´š"></a>å‡ç´š</h2><h3 id="babel-upgrade"><a href="#babel-upgrade" class="headerlink" title="babel-upgrade"></a>babel-upgrade</h3><p><code>babel-upgrade</code>æ˜¯ä¸€å€‹è‡ªå‹•åŒ–æ›´æ–°çš„æ–°å¥—ä»¶ï¼Œä»–çš„åŸ·è¡Œä¾è³´æ–¼ <code>package.json</code>ã€<code>.babelrc</code><br>å®˜æ–¹å»ºè­°åŸ·è¡Œ <code>npm babel-upgrade</code>å‘½ä»¤å‡ç´šï¼Œæˆ–æ˜¯å®‰è£ <code>babel-upgrate</code>æ–¼å…¨åŸŸç’°å¢ƒ<br>ä½¿ç”¨ <code>npm i babel-upgrate -g</code>  </p>
<p>å¦‚æœä¸æƒ³æ”¹è®Šç¾æœ‰çš„æª”æ¡ˆï¼Œè¨˜å¾—æ·»åŠ  <code>--write</code>èˆ‡ <code>--install</code>åƒæ•¸<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx babel-upgrade --write --install</span><br></pre></td></tr></table></figure></p>
<p>Babelå°‡ä½¿ç”¨ <code>babel-upgrate</code>å°æœªä¾†è®ŠåŒ–çš„æ›´æ–°ï¼Œæ‰€ä»¥å®˜æ–¹å¸Œæœ›ä½¿ç”¨è€…è¸´èºå° <code>babel-upgrate</code>æå‡º PRs  </p>
<hr>
<h2 id="è¨­å®šæª”"><a href="#è¨­å®šæª”" class="headerlink" title="è¨­å®šæª”"></a>è¨­å®šæª”</h2><h3 id="babel-config-js"><a href="#babel-config-js" class="headerlink" title="babel.config.js"></a>babel.config.js</h3><p><code>babel.config.js</code>ä¸¦éç”¨ä¾†å–ä»£ <code>.babelrc</code>ï¼Œåªæ˜¯åœ¨æŸäº›æƒ…æ³ä¸‹ä½¿ç”¨<br>ä¾‹å¦‚æˆ‘å€‘åœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œå¯èƒ½æƒ³é‡å° <code>production</code>ç’°å¢ƒåšæŸäº›äº‹æƒ…æ™‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> env = process.env.NODE_ENV;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    env === <span class="string">"production"</span> &amp;&amp; <span class="string">"babel-plugin-that-is-cool"</span></span><br><span class="line">  ].filter(<span class="built_in">Boolean</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><code>babel.config.js</code>èˆ‡ <code>.babelrc</code>çš„åŸ·è¡Œæ–¹å¼ä¸¦ä¸ç›¸åŒï¼Œä»–å§‹çµ‚æœƒè¢«åŸ·è¡Œ<br>ä¹Ÿå› æ­¤ï¼Œå¯ä»¥å¯¦ç¾åƒæ˜¯ <strong>overrides</strong>é€™æ¨£çš„åŠŸèƒ½ã€‚</p>
<h4 id="overrides"><a href="#overrides" class="headerlink" title="overrides"></a>overrides</h4><p>é€™æ˜¯ <code>babel.config.js</code>çš„é¸æ“‡æ€§å±¬æ€§ï¼Œå¯ä»¥ç”¨ä¾†è¦†è“‹ä¸€äº›ç¾æœ‰é…ç½®</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  presets: [</span><br><span class="line">    <span class="comment">// defeault config...</span></span><br><span class="line">  ],</span><br><span class="line">  overrides: [&#123;</span><br><span class="line">    test: [<span class="string">"./node_modules"</span>],</span><br><span class="line">    presets: [</span><br><span class="line">      <span class="comment">// config for node_modules</span></span><br><span class="line">    ],</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    test: [<span class="string">"./tests"</span>],</span><br><span class="line">    presets: [</span><br><span class="line">      <span class="comment">// config for tests</span></span><br><span class="line">    ],</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="é€Ÿåº¦-Speed"><a href="#é€Ÿåº¦-Speed" class="headerlink" title="é€Ÿåº¦ Speed"></a>é€Ÿåº¦ Speed</h2><p><strong>Babel7</strong> æ¯” <strong>Babel6</strong> æ›´å¿«</p>
<h3 id="è¼¸å‡ºé¸é …-Output-Options"><a href="#è¼¸å‡ºé¸é …-Output-Options" class="headerlink" title="è¼¸å‡ºé¸é … Output Options"></a>è¼¸å‡ºé¸é … Output Options</h3><p>Babelæ”¯æ´è«¸å¦‚<code>preset and plugin options</code>é€™æ¨£çš„åŠŸèƒ½<br>ç¾åœ¨æˆ‘å€‘å¯ä»¥é…ç½®å®ƒå€‘ï¼Œé€šéè¨­å®šä¸€å€‹ç‰©ä»¶</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "plugins": [</span><br><span class="line"><span class="deletion">-   "pluginA",</span></span><br><span class="line"><span class="addition">+   ["pluginA", &#123;</span></span><br><span class="line"><span class="addition">+     // options here</span></span><br><span class="line"><span class="addition">+   &#125;],</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šéé€™äº›é¸é …ï¼Œæˆ‘å€‘å¯ä»¥åŸ·è¡Œä¸€äº›éè¦ç¯„çš„è¡Œç‚ºï¼Œä½†é€™å¯èƒ½é€ æˆå•é¡Œ  </p>
<ul>
<li>ä»¥ <code>class</code>ä¾†èªª, <strong>class A {}</strong> ç¾åœ¨å°‡ä¸åŒ…å« <em>classCallCheck helper</em>.  </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> A = <span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">-  _classCallCheck(<span class="keyword">this</span>, A);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>é€™æ˜¯ä¸€å€‹æ–°é¸é …ï¼Œä½¿ <code>for-of</code>æˆç‚ºä¸€èˆ¬è¿´åœˆ <code>[&quot;transform-for-of&quot;, { &quot;assumeArray&quot;: true }]</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> elm;</span><br><span class="line"><span class="keyword">for</span> (elm <span class="keyword">of</span> array) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(elm);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> elm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> _i = <span class="number">0</span>, _array = array; _i &lt; _array.length; _i++) &#123;</span><br><span class="line">  elm = _array[_i];</span><br><span class="line">  <span class="built_in">console</span>.log(elm);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Babel <code>preset-env</code>çš„ <em>loose</em>æ¨¡å¼åŒ…å«äº† <code>transform-typeof-symbol</code>æ’ä»¶ã€‚ <a href="https://github.com/babel/babel/pull/6831" target="_blank" rel="noopener">#6831</a><br>Babelç™¼ç¾å¾ˆå¤šå¥—ä»¶ç¸½æ˜¯é€™éº¼ä½¿ç”¨ï¼Œæ‰€ä»¥ç¾åœ¨ Babelå·²ç¶“å°‡æ­¤è¨­ç‚ºé è¨­<br><strong>è«‹æ³¨æ„</strong>ï¼ŒBabelçš„é è¨­è¡Œç‚ºéƒ½æœƒç›¡é‡ç¬¦åˆè¦ç¯„ï¼Œä»¥ä¾¿åœæ­¢ä½¿ç”¨ Babelæˆ– preset-envæ™‚æ˜¯ç„¡ç¸«çš„</li>
</ul>
<h3 id="â€œPureâ€-Annotation-Support"><a href="#â€œPureâ€-Annotation-Support" class="headerlink" title="â€œPureâ€ Annotation Support"></a>â€œPureâ€ Annotation Support</h3><p>åœ¨<a href="https://github.com/babel/babel/pull/6209" target="_blank" rel="noopener">#6209</a>ä¹‹å¾Œï¼ŒBabelå°‡è½‰æ›å¾Œçš„é¡åˆ¥ä½¿ç”¨è¨»é‡‹ <code>/*#__PURE__*/</code><br>ä»¥ä¾¿æä¾›ä¸€äº›æç¤ºçµ¦ <a href="https://github.com/mishoo/UglifyJS2" target="_blank" rel="noopener">Uglify</a>æˆ–<a href="https://github.com/babel/minify" target="_blank" rel="noopener">babel-minify</a>é€™æ¨£çš„å·¥å…·æ¶ˆé™¤ç„¡ç”¨ä»£ç¢¼ã€‚</p>
<hr>
<h2 id="èªæ³•-Syntax"><a href="#èªæ³•-Syntax" class="headerlink" title="èªæ³• Syntax"></a>èªæ³• Syntax</h2><h3 id="æ”¯æ´è‰æ¡ˆTC39"><a href="#æ”¯æ´è‰æ¡ˆTC39" class="headerlink" title="æ”¯æ´è‰æ¡ˆTC39"></a>æ”¯æ´è‰æ¡ˆ<a href="https://github.com/tc39/proposals" target="_blank" rel="noopener">TC39</a></h3><ul>
<li>ES2018: <a href="https://babeljs.io/docs/en/babel-plugin-proposal-object-rest-spread" target="_blank" rel="noopener">Object Rest Spread</a> (var a = { b, â€¦c })</li>
<li>ES2018 (new): <a href="https://babeljs.io/docs/en/babel-plugin-proposal-unicode-property-regex" target="_blank" rel="noopener">Unicode Property Regex</a></li>
<li>ES2018 (new): <a href="https://babeljs.io/docs/en/babel-plugin-proposal-json-strings" target="_blank" rel="noopener">JSON Superset</a></li>
<li>ES2015 (new): <a href="https://babeljs.io/docs/en/babel-plugin-transform-new-target" target="_blank" rel="noopener">new.target</a></li>
<li>Stage 3 (new): <a href="https://babeljs.io/docs/en/babel-plugin-proposal-class-properties" target="_blank" rel="noopener">Class Private Instance Fields</a> (class A { #b = 2 })</li>
<li>Stage 3 (WIP): <a href="https://github.com/babel/babel/issues/8052" target="_blank" rel="noopener">Static Class Fields, Private Static Methods</a> (class A { static #a() {} })</li>
<li>Stage 3 (new): <a href="https://babeljs.io/docs/en/babel-plugin-proposal-optional-catch-binding" target="_blank" rel="noopener">Optional Catch Binding</a> try { throw 0 } catch { do() }</li>
<li>Stage 3 (new): <a href="https://babeljs.io/docs/en/babel-plugin-syntax-bigint" target="_blank" rel="noopener">BigInt</a> (syntax only)</li>
<li>Stage 3: <a href="https://babeljs.io/docs/en/babel-plugin-syntax-dynamic-import" target="_blank" rel="noopener">Dynamic Import</a> (import(â€œaâ€))</li>
<li>Stage 2 (new): <a href="https://babeljs.io/docs/en/babel-plugin-syntax-import-meta" target="_blank" rel="noopener">import.meta</a> (syntax only) (import.meta.url)</li>
<li>Stage 2 (new): <a href="https://babeljs.io/docs/en/babel-plugin-proposal-numeric-separator" target="_blank" rel="noopener">Numeric Seperators</a> (1_000)</li>
<li>Stage 2 (new): <a href="https://babeljs.io/docs/en/babel-plugin-proposal-function-sent" target="_blank" rel="noopener">function.sent</a></li>
<li>Stage 2: <a href="https://babeljs.io/docs/en/babel-plugin-proposal-export-namespace-from" target="_blank" rel="noopener">export-namespace-from</a> (export * as ns from â€˜modâ€™), split from export-extensions</li>
<li>Stage 2: Decorators. Check below for an update on our progress!</li>
<li>Stage 1: <a href="https://babeljs.io/docs/en/babel-plugin-proposal-export-default-from" target="_blank" rel="noopener">export-default-from</a> (export v from â€˜modâ€™), split from export-extensions</li>
<li>Stage 1 (new): <a href="https://babeljs.io/docs/en/babel-plugin-proposal-optional-chaining" target="_blank" rel="noopener">Optional Chaining</a> (a?.b)</li>
<li>Stage 1 (new): <a href="https://babeljs.io/docs/en/babel-plugin-proposal-logical-assignment-operators" target="_blank" rel="noopener">Logical Assignment Operators</a> (a &amp;&amp;= b; a ||= b)</li>
<li>Stage 1 (new): <a href="Nullish Coalescing Operator">Nullish Coalescing Operator</a> (a ?? b)</li>
<li>Stage 1 (new): <a href="https://babeljs.io/docs/en/babel-plugin-proposal-pipeline-operator" target="_blank" rel="noopener">Pipeline Operator</a> (a |&gt; b)</li>
<li>Stage 1 (new): <a href="https://babeljs.io/docs/en/babel-plugin-proposal-throw-expressions" target="_blank" rel="noopener">Throw Expressions</a> (() =&gt; throw new Error(â€œaâ€))</li>
</ul>
<blockquote>
<p>ç”±æ–¼è¿½è¹¤è‰æ¡ˆå°ä»»ä½•ä¾†èªªéƒ½å¾ˆéº»ç…©ï¼ŒBabel æ‰“ç®—é€šé<a href="https://github.com/babel/proposals/" target="_blank" rel="noopener">babel/proposals</a>è§£æ±ºé€™å€‹å•é¡Œã€‚</p>
</blockquote>
<h3 id="TypeScript-æ”¯æ´-babel-preset-typescript"><a href="#TypeScript-æ”¯æ´-babel-preset-typescript" class="headerlink" title="TypeScript æ”¯æ´ (@babel/preset-typescript)"></a>TypeScript æ”¯æ´ (@babel/preset-typescript)</h3><p>Babel èˆ‡<a href="https://github.com/Microsoft/TypeScript" target="_blank" rel="noopener">TypeScript</a>åœ˜éšŠè¯åˆè£½ä½œ <code>@babel/preset-typescript</code>ï¼Œå°±åƒèˆ‡ <a href="https://flow.org/" target="_blank" rel="noopener">Flow</a>åˆä½œçš„ <code>@babel/preset-flow</code>ä¸€æ¨£ã€‚  </p>
<blockquote>
<p>æ›´å¤šçš„ç´°ç¯€ï¼Œå¯ä»¥æŸ¥çœ‹é€™ç¯‡ç”±<a href="https://blogs.msdn.microsoft.com/typescript/2018/08/27/typescript-and-babel-7/" target="_blank" rel="noopener">TypeScriptç™¼å‡ºçš„æ–‡ç« </a></p>
</blockquote>
<ul>
<li><p>Before (with types):</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  firstName: <span class="built_in">string</span>;</span><br><span class="line">  lastName: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeter</span>(<span class="params">person : Person</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"Hello, "</span> + person.firstName + <span class="string">" "</span> + person.lastName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>After (types removed):</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeter</span>(<span class="params">person</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"Hello, "</span> + person.firstName + <span class="string">" "</span> + person.lastName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>ç”±æ–¼é€™é¡èªæ³•é‚„å¾ˆæ–°ï¼Œæ‰€ä»¥å¯èƒ½æœƒæœ‰äº›å•é¡Œï¼Œ <a href="https://github.com/babel/babel/labels/area:%20typescript?page=2&amp;q=is%3Aopen+label%3A%22area%3A+typescript%22" target="_blank" rel="noopener">Babelæ­¡è¿å¤§å®¶è¸´èºæä¾› PR</a>ã€‚</p>
</blockquote>
<h3 id="JSX-Fragment-Support-lt-gt"><a href="#JSX-Fragment-Support-lt-gt" class="headerlink" title="JSX Fragment Support (&lt;&gt;)"></a>JSX Fragment Support (&lt;&gt;)</h3><p>æ­£å¦‚<a href="https://reactjs.org/blog/2017/11/28/react-v16.2.0-fragment-support.html" target="_blank" rel="noopener">Reactéƒ¨è½æ ¼</a>ä¸­æ‰€æï¼Œå¾Beta.31é–‹å§‹ï¼ŒJSX Fragmentæ”¯æŒå·²ç¶“å¯ç”¨ã€‚  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;ChildA /&gt;</span><br><span class="line">      &lt;ChildB /&gt;</span><br><span class="line">    &lt;<span class="regexp">/&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ output ğŸ‘‡</span></span><br><span class="line"><span class="regexp">render() &#123;</span></span><br><span class="line"><span class="regexp">  return React.createElement(</span></span><br><span class="line"><span class="regexp">    React.Fragment,</span></span><br><span class="line"><span class="regexp">    null,</span></span><br><span class="line"><span class="regexp">    React.createElement(ChildA, null),</span></span><br><span class="line"><span class="regexp">    React.createElement(ChildB, null)</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Babel-Helpers-Changes"><a href="#Babel-Helpers-Changes" class="headerlink" title="Babel Helpers Changes"></a>Babel Helpers Changes</h2><blockquote>
<p><a href="https://github.com/babel/babel-upgrade/pull/71" target="_blank" rel="noopener">babel-upgrade PR</a> å·²ç¶“é–‹å§‹é‹ä½œ  </p>
</blockquote>
<p><code>@babel/runtime</code>ç¾åœ¨è¢«åˆ‡åˆ†ç‚º <code>@babel/runtime</code>èˆ‡ <code>@babel/runtime-corejs2</code> (<a href="https://github.com/babel/babel/pull/8266" target="_blank" rel="noopener">PR</a>)<br>å‰è€…åƒ…åŒ…å«è¼”åŠ©å‡½æ•¸ï¼Œå¾Œè€…æ‰åŒ…å«polyfillå‡½æ•¸(ä¾‹å¦‚ Symbol, Promise).</p>
<p>Babelå¯èƒ½éœ€è¦å°‡æŸäº›å‡½æ•¸æ³¨å…¥å¯ä»¥é‡ç”¨çš„ä»£ç¢¼ä¸­ã€‚ Babelåªæ˜¯å°‡é€™äº›â€œè¼”åŠ©å‡½æ•¸â€ç¨±ç‚ºæ¨¡å¡Šä¹‹é–“å…±äº«çš„å‡½æ•¸ã€‚  </p>
<p>å‡è¨­ä½ å®šç¾©äº†ä¸€å€‹é¡åˆ¥ <strong>Person</strong>ï¼Œè¦ç¯„èªªä½ å¿…é ˆä½¿ç”¨ <code>new Person</code>ï¼Œä½†æŠ€è¡“ä¸Šä¾†èªªä½ å¯ä»¥åªä½¿ç”¨ <code>Person()</code><br>æ‰€ä»¥Babelåœ¨é‹è¡Œç’°å¢ƒæœƒå°æ­¤åšæª¢æŸ¥  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_classCallCheck</span>(<span class="params">instance, Constructor</span>) </span>&#123; <span class="keyword">if</span> (!(instance <span class="keyword">instanceof</span> Constructor)) &#123; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">"Cannot call a class as a function"</span>); &#125; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  _classCallCheck(<span class="keyword">this</span>, Person);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ <code>@babel/plugin-transform-runtime</code>å’Œ <code>@babel/runtime</code>(ä¾è³´é …)<br>Babelå¯ä»¥æå–å–®å€‹å‡½æ•¸ï¼Œåªéœ€èª¿ç”¨æ¨¡çµ„åŒ–å‡½æ•¸ä¾†é”åˆ°è¼ƒå°è¼¸å‡ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _classCallCheck = <span class="built_in">require</span>(<span class="string">"@babel/runtime/helpers/classCallCheck"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  _classCallCheck(<span class="keyword">this</span>, Person);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="Automatic-Polyfilling-experimental"><a href="#Automatic-Polyfilling-experimental" class="headerlink" title="Automatic Polyfilling (experimental)"></a>Automatic Polyfilling (experimental)</h2><p>Polyfills æ˜¯åœ¨ä¸æ”¯æ´æŸäº›åŠŸèƒ½å¦‚(Promise, Symbol)çš„ç’°å¢ƒä¸­æ‰€å¿…é ˆçš„<br>å€åˆ† Babelåªæ˜¯è½‰è­¯å™¨è€Œ Polyfillsæ‰æ˜¯å¯¦ç¾åŠŸèƒ½çš„ä¸»è§’å¾ˆé‡è¦ã€‚  </p>
<p>è¦å•Ÿç”¨é€™äº›åŠŸèƒ½å¾ˆç°¡å–®ï¼Œåªéœ€è¦å°å…¥ <code>@babel/polyfill</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"@babel/polyfill"</span>;</span><br></pre></td></tr></table></figure></p>
<p>ä½†æ˜¯å°å…¥æ•´å€‹ polyfillä¸æ˜¯å¿…é ˆçš„  </p>
<p>äº‹å¯¦ä¸Šæˆ‘å€‘åªæƒ³å°å…¥é‚£äº›æˆ‘å€‘æœ‰ç”¨åˆ°çš„éƒ¨åˆ†ï¼Œå°±åƒ <code>@babel/preset-env</code>é‚£æ¨£<br>ç¾åœ¨æˆ‘å€‘å¯ä»¥é€šéå¯¦é©—æ€§é¸é … <code>&quot;useBuiltIns: &quot;usage&quot;</code>ï¼Œä¾†å‘Šè¨´ Babelåªéœ€å°å…¥æœ‰ç”¨åˆ°çš„åŠŸèƒ½<br>é€šéé€™ä»½<a href="https://babeljs.io/docs/en/babel-preset-env#usebuiltins" target="_blank" rel="noopener">æ–‡ä»¶</a>ä¾†äº†è§£å®Œæ•´å…§å®¹</p>
<p>Babelæœƒéè¦½æ•´ä»½æ–‡ä»¶ï¼Œä¸¦æ³¨å…¥æœ‰ç”¨åˆ°çš„æ¨¡çµ„ï¼Œä¾‹å¦‚ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"core-js/modules/es6.promise"</span>;</span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Promise</span>();</span><br></pre></td></tr></table></figure></p>
<p>ä½†ä»¥ä»‹é¢åŠŸèƒ½ä¾†èªªï¼Œé€™ä¸¦ä¸å®Œç¾<br>å› ç‚ºç‰©ä»¶å¯èƒ½ä¸åŒ…å«è©²æ–¹æ³•ï¼Œä¾‹å¦‚é€™å€‹æƒ…æ³ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"core-js/modules/es7.array.includes"</span>;</span><br><span class="line">a.includes <span class="comment">// é æœŸè®Šæ•¸ a æ˜¯å€‹ array</span></span><br></pre></td></tr></table></figure></p>
<p>å¦å¤–å¦‚æœå¯ä»¥ä½¿ç”¨å…¶ä»–æœå‹™ï¼Œä¹Ÿå¯ä»¥è€ƒæ…®ä½¿ç”¨ <a href="https://polyfill.io/v2/docs/" target="_blank" rel="noopener">polyfill.io</a>ä¾†é”åˆ°ä¸€æ¨£çš„æ•ˆæœ<br>æˆ–æ˜¯é–±è®€é€™ç¯‡<a href="https://twitter.com/kentcdodds" target="_blank" rel="noopener">Kent C. Dodds</a>æ‰€å¯«çš„<a href="https://blog.kentcdodds.com/polyfill-as-needed-with-polyfill-service-35f0ff306a26" target="_blank" rel="noopener">build a hosted service at PayPal</a></p>
<hr>
<p>ä»¥ä¸Šå°±æ˜¯é€™æ¬¡ <strong>Babel7</strong>ç™¼å¸ƒçš„ä¸»è¦å…§å®¹<br>æ›´å¤šå®Œæ•´ç´°ç¯€å¯ä»¥æŸ¥çœ‹ <a href="https://babeljs.io/blog/2018/08/27/7.0.0" target="_blank" rel="noopener">Babel 7 Released</a></p>
</div><div class="article-meta" style="max-width:800px"><div class="tags"><i class="icon icon-tag"></i><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/babel/">babel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">4</span></li></ul></div></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2018/08/29/JavaScript-å…¨åŸŸè®Šæ•¸èˆ‡å±¬æ€§/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/cian6390" title="Github" target="_blank"><i class="icon icon-github"></i></a></li></ul></div><div class="bottom"><p class="copyright">Â© 2018 ç”Ÿæ´»èˆ‡æŠ€è¡“<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small><small>, THEME BY <a href="https://github.com/BoizZ/hexo-theme-laughing" target="_blank">LAUGHING</a></small></p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>