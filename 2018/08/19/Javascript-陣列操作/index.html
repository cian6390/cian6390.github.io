<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="網頁技術, 前端, 後端, 生活, 閱讀, 筆記"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>Javascript 陣列操作 - 生活與技術</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com/cian6390"><span>Github</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="https://images2.imgbox.com/e1/ff/W42RCDl2_o.jpg"><div class="post-title"><h1 class="title">Javascript 陣列操作</h1><ul class="meta"><li><i class="icon icon-author"></i>Cian</li><li><i class="icon icon-clock"></i>12 Minutes</li><li><i class="icon icon-calendar"></i>August 19, 2018</li></ul></div></div><div class="article-content" style="max-width:800px"><h1 id="陣列"><a href="#陣列" class="headerlink" title="陣列"></a>陣列<array></array></h1><p>在程式設計裡面陣列Array是隨處可見的，程式設計師沒有一天是可以脫離Array的操作<br>在<strong>JavaSript</strong>當中，物件的方法，有時會改變物件本身的屬性，有時則是回傳新值。<br>時常會因為這件小事而且出難以除錯的bug，因此熟悉Array的各個方法相當重要。</p>
<h2 id="push"><a href="#push" class="headerlink" title="push"></a>push</h2><p>將一個元素新增至array，回傳包含該元素後array的長度</p>
<h2 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h2><p>移除array最後一個元素，並回傳該元素</p>
<h2 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h2><p>移除array第一個元素，並回傳該元素</p>
<h2 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h2><p>將元素新增至array開頭<code>array[0]</code>，回傳包含該元素後array的長度</p>
<h2 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a>indexOf</h2><p>搜尋指定元素 <strong>首次</strong>出現在array當中的索引<code>index</code>，搜尋不到則回傳 <code>-1</code></p>
<h2 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf"></a>lastIndexOf</h2><p>搜尋指定元素 <strong>最後</strong>出現在array當中的索引<code>index</code>，搜尋不到則回傳 <code>-1</code></p>
<h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><p>此方法用於搜尋特定物件集合時相當實用<br>在array當中搜尋符合條件指定元素，搜尋不到則回傳 <code>null</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">a</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="keyword">const</span> array = [obj1, obj2]</span><br><span class="line"><span class="keyword">const</span> result = array.find(<span class="function"><span class="params">el</span> =&gt;</span> el.a === <span class="number">1</span>)   <span class="comment">// return obj1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj1 === result)  <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<h2 id="every"><a href="#every" class="headerlink" title="every"></a>every</h2><p>檢查指定array每個元素是否<code>每一個都符合</code>條件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">a</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj3 = &#123; <span class="attr">a</span>: <span class="number">3</span> &#125;</span><br><span class="line"><span class="keyword">const</span> array = [obj1, obj2, obj3]</span><br><span class="line">array.every(<span class="function"><span class="params">obj</span> =&gt;</span> obj.a &lt; <span class="number">5</span>)   <span class="comment">// true</span></span><br><span class="line">array.every(<span class="function"><span class="params">obj</span> =&gt;</span> obj.a &gt; <span class="number">2</span>)   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h2 id="some"><a href="#some" class="headerlink" title="some"></a>some</h2><p>檢查指定array是否元素是否<code>其中一個符合</code>條件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">a</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj3 = &#123; <span class="attr">a</span>: <span class="number">3</span> &#125;</span><br><span class="line"><span class="keyword">const</span> array = [obj1, obj2, obj3]</span><br><span class="line">array.some(<span class="function"><span class="params">obj</span> =&gt;</span> obj.a &lt; <span class="number">5</span>)   <span class="comment">// true</span></span><br><span class="line">array.some(<span class="function"><span class="params">obj</span> =&gt;</span> obj.a &gt; <span class="number">2</span>)   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h2><p>簡易說明：遍歷整個array, 並執行指定的相關操作。</p>
<p>詳細說明：<a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank" rel="noopener">MDN Array.prototype.forEach()</a></p>
<p>在 <strong>forEach</strong>方法中，並沒有類似迴圈中的終止<code>break</code>或跳過<code>continue</code>行為<br>但可以使用回傳<code>return</code>來模擬跳過。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">a</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj3 = &#123; <span class="attr">a</span>: <span class="number">3</span> &#125;</span><br><span class="line"><span class="keyword">const</span> array = [obj1, obj2, obj3]</span><br><span class="line">array.forEach(<span class="function"><span class="params">obj</span> =&gt;</span> obj.a = <span class="built_in">Math</span>.pow(obj.a, <span class="number">2</span>))</span><br><span class="line"><span class="built_in">console</span>.log(array)  <span class="comment">// [&#123;a: 1&#125;, &#123;a: 4&#125;, &#123;a, 9&#125;]</span></span><br></pre></td></tr></table></figure>
<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p>對array中的每個元素作操作，回傳新array，不會改變原本的 array元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> array2 = array1.map(<span class="function"><span class="params">el</span> =&gt;</span> <span class="built_in">Math</span>.pow(el, <span class="number">2</span>))</span><br><span class="line"><span class="built_in">console</span>.log(array1) <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="built_in">console</span>.log(array2) <span class="comment">// [1, 4, 9]</span></span><br></pre></td></tr></table></figure>
<h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><p>用於遍歷整個array，並依條件取得加總值，加總對象可以是任何東西，不會改變array本身。</p>
<h3 id="範例一"><a href="#範例一" class="headerlink" title="範例一"></a>範例一</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">const</span> total = numbers.reduce(<span class="function">(<span class="params">total, num</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> total+=num</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(numbers)    <span class="comment">// [1, 2, 3, 4, 5]</span></span><br><span class="line"><span class="built_in">console</span>.log(total)      <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>
<h3 id="範例二"><a href="#範例二" class="headerlink" title="範例二"></a>範例二</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> basket = [</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'apple'</span>,</span><br><span class="line">        number: <span class="number">10</span>,</span><br><span class="line">        price: <span class="number">10</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        name: <span class="string">'banana'</span>,</span><br><span class="line">        number: <span class="number">5</span>,</span><br><span class="line">        price: <span class="number">15</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        name: <span class="string">'watermelon'</span>,</span><br><span class="line">        number: <span class="number">8</span>,</span><br><span class="line">        price: <span class="number">50</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> totalValue = basket.reduce(<span class="function">(<span class="params">total, fruit</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> total += (fruit.price * fruit.number)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(totalValue) <span class="comment">// 575</span></span><br></pre></td></tr></table></figure>
<p>以上只是兩個簡單以加總數字為目的的範例。</p>
<p><code>reduce</code>是個很強大的方法！除了可以用來做數字的加總，也可以用來建立 <strong>字串</strong>, <strong>物件</strong>, <strong>陣列</strong> 甚至是 <strong>FormData</strong></p>
<p>其用途相當廣泛，讀者可以在練習的過程中慢慢體會其魔力。</p>
</div><div class="article-meta" style="max-width:800px"><div class="tags"><i class="icon icon-tag"></i><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/array/">array</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">5</span></li></ul></div></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2018/08/29/JavaScript-全域變數與屬性/"><i class="icon icon-arror-left"></i></a></li><li><a href="/2018/08/18/物件導向-SOLID/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/cian6390" title="Github" target="_blank"><i class="icon icon-github"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2018 生活與技術<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small><small>, THEME BY <a href="https://github.com/BoizZ/hexo-theme-laughing" target="_blank">LAUGHING</a></small></p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>